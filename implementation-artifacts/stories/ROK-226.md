# ROK-226: Player Self-Unassign from Roster Slot

## Story

As a **player assigned to a roster slot**, I want to **unassign myself from my slot** so that the organizer knows the slot is vacant and can reassign it.

The player sees the same red X button that admins have, but **only on their own slot**. Clicking it removes their roster assignment but keeps them signed up (moved to unassigned pool). The event organizer receives a `slot_vacated` notification.

## Acceptance Criteria

- [x] AC-1: Signed-up player sees red X button on their own assigned roster slot
- [x] AC-2: X button is NOT shown on other players' slots (non-admin)
- [x] AC-3: Clicking X removes roster assignment only (user stays signed up)
- [x] AC-4: User appears in unassigned pool after self-unassign
- [x] AC-5: `slot_vacated` notification dispatched to event organizer
- [x] AC-6: Notification includes player name, role, and event title
- [x] AC-7: Admins/creators still see X on all slots (existing behavior unchanged)
- [x] AC-8: New `DELETE /events/:id/roster/me` API endpoint (JWT-authenticated)
- [x] AC-9: Backend returns NotFoundException if user has no roster assignment
- [x] AC-10: 4 unit tests covering happy path and error cases

## Dependencies

- **ROK-225:** Notify Organizer on Slot Leave (slot_vacated dispatch) -- DONE

## Implementation

### Backend
- **`api/src/events/signups.service.ts`** -- Added `selfUnassign(eventId, userId)` method
  - Finds user's signup and roster assignment
  - Deletes roster assignment only (signup preserved)
  - Dispatches `slot_vacated` notification to event creator
  - Returns updated `RosterWithAssignments`
- **`api/src/events/events.controller.ts`** -- Added `DELETE /events/:id/roster/me` endpoint
- **`api/src/events/signups.service.spec.ts`** -- 4 new tests (20 total)

### Frontend
- **`web/src/lib/api-client.ts`** -- Added `selfUnassignFromRoster(eventId)` function
- **`web/src/hooks/use-roster.ts`** -- Added `useSelfUnassign(eventId)` mutation hook
- **`web/src/components/roster/RosterSlot.tsx`** -- Added `onSelfRemove` prop; shows X button when `isCurrentUser && onSelfRemove`
- **`web/src/components/roster/RosterBuilder.tsx`** -- Added `onSelfRemove` prop; passes to RosterSlot for current user's slot when not admin
- **`web/src/pages/event-detail-page.tsx`** -- Wired `useSelfUnassign` mutation with toast feedback
