@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap');

@import "tailwindcss";

/* ============================================
   Theme Tokens — ROK-224
   Semantic design tokens for theme support.
   Dark theme values defined here; ROK-124 will
   add [data-theme="light"] overrides.

   Mapping reference:
     bg-slate-950 → bg-backdrop
     bg-slate-900 → bg-surface
     bg-slate-800 → bg-panel
     bg-slate-700 → bg-overlay
     bg-slate-600 → bg-faint
     bg-slate-500 → bg-dim
     bg-slate-400 → bg-muted
     text-white   → text-foreground
     text-slate-300 → text-secondary
     text-slate-400 → text-muted
     text-slate-500 → text-dim
     text-slate-600 → text-faint
     border-slate-800 → border-edge-subtle
     border-slate-700 → border-edge
     border-slate-600 → border-edge-strong
     border-slate-500 → border-dim
     placeholder-slate-500 → placeholder-dim
     divide-slate-* → divide-edge
   ============================================ */

@theme {
    /* Surfaces — backgrounds */
    --color-backdrop: #020617;   /* slate-950 */
    --color-surface: #0f172a;    /* slate-900 */
    --color-panel: #1e293b;      /* slate-800 */
    --color-overlay: #334155;    /* slate-700 */

    /* Neutral scale — dual-purpose (text & bg) */
    --color-faint: #475569;      /* slate-600 */
    --color-dim: #64748b;        /* slate-500 */
    --color-muted: #94a3b8;      /* slate-400 */
    --color-secondary: #cbd5e1;  /* slate-300 */
    --color-foreground: #ffffff; /* white */

    /* Borders */
    --color-edge: #334155;       /* slate-700 */
    --color-edge-strong: #475569;/* slate-600 */
    --color-edge-subtle: #1e293b;/* slate-800 */
}

/* Game Time Grid inline-style tokens — dark defaults (ROK-124) */
html {
    --gt-widget-bg: rgba(30, 41, 59, 0.7);
    --gt-widget-border: rgba(51, 65, 85, 0.6);
    --gt-split-bg: rgba(30, 41, 59, 0.8);
    --gt-past-highlight: rgba(30, 41, 59, 0.3);
    --gt-hover-glow: rgba(148, 163, 184, 0.2);
    --gt-proximity-line: 148, 163, 184;
}

/* Light theme overrides (ROK-124) */
[data-scheme="light"] {
    --color-backdrop: #f8fafc;
    --color-surface: #ffffff;
    --color-panel: #f1f5f9;
    --color-overlay: #e2e8f0;
    --color-faint: #cbd5e1;
    --color-dim: #94a3b8;
    --color-muted: #64748b;
    --color-secondary: #475569;
    --color-foreground: #0f172a;
    --color-edge: #e2e8f0;
    --color-edge-strong: #cbd5e1;
    --color-edge-subtle: #f1f5f9;

    /* Game Time Grid inline-style tokens */
    --gt-widget-bg: rgba(241, 245, 249, 0.9);
    --gt-widget-border: rgba(203, 213, 225, 0.6);
    --gt-split-bg: rgba(226, 232, 240, 0.4);
    --gt-past-highlight: rgba(203, 213, 225, 0.3);
    --gt-hover-glow: rgba(100, 116, 139, 0.15);
    --gt-proximity-line: 100, 116, 139;
}

/* Space theme overrides (ROK-228) */
[data-scheme="space"] {
    --color-backdrop: #0a0a1a;
    --color-surface: #12122a;
    --color-panel: #1a1a3e;
    --color-overlay: #252550;
    --color-faint: #3d3d6b;
    --color-dim: #6b6b9e;
    --color-muted: #9898c8;
    --color-secondary: #c0c0e0;
    --color-foreground: #e8e8ff;
    --color-edge: #2d2a66;
    --color-edge-strong: #45408a;
    --color-edge-subtle: #1e1a4a;

    /* Game Time Grid inline-style tokens */
    --gt-widget-bg: rgba(26, 26, 62, 0.7);
    --gt-widget-border: rgba(61, 61, 107, 0.6);
    --gt-split-bg: rgba(26, 26, 62, 0.8);
    --gt-past-highlight: rgba(26, 26, 62, 0.3);
    --gt-hover-glow: rgba(152, 152, 200, 0.2);
    --gt-proximity-line: 152, 152, 200;
}

/* ============================================
   UX Design System - Raid Ledger
   Based on ux-design-specification.md
   ============================================ */

:root {
    /* Class/Role Colors (MMO Standard) */
    --color-tank: #C79C6E;
    --color-healer: #F58CBA;
    --color-dps-melee: #ABD473;
    --color-dps-ranged: #3FC7EB;

    /* Rarity Scale (Loot Colors) */
    --color-legendary: #FF8000;
    --color-epic: #A335EE;
    --color-rare: #0070DD;
    --color-uncommon: #1EFF00;
    --color-poor: #9D9D9D;

    /* Status Colors */
    --color-ready: #22C55E;
    --color-late: #EAB308;
    --color-absent: #EF4444;

    /* Glow Effects */
    --glow-emerald: 0 0 20px rgba(16, 185, 129, 0.4);
    --glow-indigo: 0 0 20px rgba(99, 102, 241, 0.4);
    --glow-epic: 0 0 20px rgba(163, 53, 238, 0.4);
}

/* Base Styles */
html {
    color-scheme: dark;
}

html[data-scheme="light"] {
    color-scheme: light;
}

html[data-scheme="space"] {
    color-scheme: dark;
}

body {
    margin: 0;
    min-height: 100vh;
    background-color: var(--color-backdrop);
    font-family: 'Inter', system-ui, sans-serif;
}

#root {
    min-height: 100vh;
}

/* Typography - Display/Headers */
.font-display {
    font-family: 'Cinzel', serif;
    letter-spacing: 0.02em;
}

/* Glassmorphism Card */
.glass-card {
    background: color-mix(in srgb, var(--color-surface) 70%, transparent);
    backdrop-filter: blur(12px);
    border: 1px solid color-mix(in srgb, var(--color-muted) 10%, transparent);
}

.glass-card:hover {
    border-color: color-mix(in srgb, var(--color-muted) 20%, transparent);
    background: color-mix(in srgb, var(--color-surface) 80%, transparent);
}

/* Light mode glass-card: opaque with subtle shadow */
[data-scheme="light"] .glass-card {
    background: color-mix(in srgb, var(--color-surface) 90%, transparent);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

[data-scheme="light"] .glass-card:hover {
    background: color-mix(in srgb, var(--color-surface) 95%, transparent);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

/* Space theme: glassmorphism with nebula tint (ROK-228) */
[data-scheme="space"] .glass-card {
    background: color-mix(in srgb, var(--color-surface) 65%, transparent);
    backdrop-filter: blur(16px);
    border-color: color-mix(in srgb, #8b5cf6 15%, transparent);
    box-shadow:
        0 0 1px rgba(139, 92, 246, 0.15),
        inset 0 0 20px rgba(139, 92, 246, 0.03);
}

[data-scheme="space"] .glass-card:hover {
    border-color: color-mix(in srgb, #8b5cf6 25%, transparent);
    background: color-mix(in srgb, var(--color-surface) 75%, transparent);
    box-shadow:
        0 0 2px rgba(139, 92, 246, 0.2),
        inset 0 0 25px rgba(139, 92, 246, 0.05);
}

/* Glow Button Effects */
.glow-emerald {
    box-shadow: var(--glow-emerald);
}

.glow-emerald:hover {
    box-shadow: 0 0 30px rgba(16, 185, 129, 0.5);
}

.glow-indigo {
    box-shadow: var(--glow-indigo);
}

.glow-indigo:hover {
    box-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
}

/* Light mode: reduced glows */
[data-scheme="light"] .glow-emerald {
    box-shadow: 0 0 10px rgba(16, 185, 129, 0.2);
}

[data-scheme="light"] .glow-emerald:hover {
    box-shadow: 0 0 15px rgba(16, 185, 129, 0.3);
}

[data-scheme="light"] .glow-indigo {
    box-shadow: 0 0 10px rgba(99, 102, 241, 0.2);
}

[data-scheme="light"] .glow-indigo:hover {
    box-shadow: 0 0 15px rgba(99, 102, 241, 0.3);
}

/* Space theme: enhanced purple-cyan glows (ROK-228) */
[data-scheme="space"] .glow-emerald {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.35), 0 0 40px rgba(139, 92, 246, 0.1);
}

[data-scheme="space"] .glow-emerald:hover {
    box-shadow: 0 0 30px rgba(16, 185, 129, 0.5), 0 0 50px rgba(139, 92, 246, 0.15);
}

[data-scheme="space"] .glow-indigo {
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.35), 0 0 40px rgba(139, 92, 246, 0.15);
}

[data-scheme="space"] .glow-indigo:hover {
    box-shadow: 0 0 30px rgba(99, 102, 241, 0.5), 0 0 50px rgba(139, 92, 246, 0.2);
}

/* Role Badge Colors */
.role-tank {
    color: var(--color-tank);
    border-color: var(--color-tank);
}

.role-healer {
    color: var(--color-healer);
    border-color: var(--color-healer);
}

.role-dps {
    color: var(--color-dps-melee);
    border-color: var(--color-dps-melee);
}

/* Rarity Badges */
.rarity-legendary {
    color: var(--color-legendary);
    text-shadow: 0 0 10px var(--color-legendary);
}

.rarity-epic {
    color: var(--color-epic);
    text-shadow: 0 0 10px var(--color-epic);
}

.rarity-rare {
    color: var(--color-rare);
}

/* Smooth transitions */
* {
    transition-property: color, background-color, border-color, box-shadow, opacity, transform;
    transition-duration: 150ms;
    transition-timing-function: ease-out;
}

/* ============================================
   Space Theme — Neon Border Effects (ROK-228)
   Sci-fi inspired cyan/purple/magenta glow on
   edges, panels, inputs, and interactive elements.
   pointer-events: none on pseudo-elements.
   ============================================ */

[data-scheme="space"] {
    --neon-cyan: rgba(56, 189, 248, 0.4);
    --neon-purple: rgba(139, 92, 246, 0.35);
    --neon-magenta: rgba(217, 70, 239, 0.3);
}

/* Panel / card neon border glow */
[data-scheme="space"] .bg-surface,
[data-scheme="space"] .glass-card {
    box-shadow:
        0 0 1px var(--neon-purple),
        inset 0 0 15px rgba(139, 92, 246, 0.03);
}

/* Stronger glow on explicit bordered panels */
[data-scheme="space"] .border-edge,
[data-scheme="space"] .border-edge-subtle {
    border-color: rgba(139, 92, 246, 0.25);
}

[data-scheme="space"] .border-edge-strong {
    border-color: rgba(139, 92, 246, 0.35);
}

/* Rounded cards get a subtle outer neon glow */
[data-scheme="space"] .rounded-xl {
    box-shadow:
        0 0 2px rgba(139, 92, 246, 0.2),
        0 0 8px rgba(56, 189, 248, 0.06);
}

/* Primary action buttons: emerald with cyan accent */
[data-scheme="space"] .bg-emerald-600 {
    box-shadow:
        0 0 12px rgba(16, 185, 129, 0.3),
        0 0 20px rgba(56, 189, 248, 0.1);
}

[data-scheme="space"] .bg-emerald-600:hover {
    box-shadow:
        0 0 16px rgba(16, 185, 129, 0.45),
        0 0 30px rgba(56, 189, 248, 0.15);
}

/* Indigo buttons: purple+magenta accent */
[data-scheme="space"] .bg-indigo-600 {
    box-shadow:
        0 0 12px rgba(99, 102, 241, 0.3),
        0 0 20px rgba(217, 70, 239, 0.1);
}

[data-scheme="space"] .bg-indigo-600:hover {
    box-shadow:
        0 0 16px rgba(99, 102, 241, 0.45),
        0 0 30px rgba(217, 70, 239, 0.15);
}

/* Header bar */
[data-scheme="space"] header {
    border-bottom-color: rgba(139, 92, 246, 0.2);
    box-shadow: 0 1px 8px rgba(139, 92, 246, 0.1);
}

/* Form inputs get a subtle neon focus ring */
[data-scheme="space"] input:focus,
[data-scheme="space"] select:focus,
[data-scheme="space"] textarea:focus {
    box-shadow:
        0 0 0 2px rgba(139, 92, 246, 0.25),
        0 0 8px rgba(56, 189, 248, 0.1);
}

/* Dividers / horizontal rules */
[data-scheme="space"] hr,
[data-scheme="space"] .divide-edge > :not(:first-child) {
    border-color: rgba(139, 92, 246, 0.15);
}

/* Links: subtle cyan underline glow on hover */
[data-scheme="space"] a:hover {
    text-shadow: 0 0 6px rgba(56, 189, 248, 0.3);
}

/* Scrollbar — thin neon track */
[data-scheme="space"] ::-webkit-scrollbar {
    width: 6px;
}

[data-scheme="space"] ::-webkit-scrollbar-track {
    background: rgba(10, 10, 26, 0.5);
}

[data-scheme="space"] ::-webkit-scrollbar-thumb {
    background: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

[data-scheme="space"] ::-webkit-scrollbar-thumb:hover {
    background: rgba(139, 92, 246, 0.5);
}
